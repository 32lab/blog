<!DOCTYPE html>
<html th:replace="~{layout/layout.html :: layout(~{::head}, ~{::section})}"
      lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"  xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jinia's Log</title>
    <!-- SEO -->
    <meta name="description" content=""/>
    <meta name="keyword" content=""/>
    <meta name="author" content="jinia"/>
    <meta name="viewport" content="width=device-width,  user-scalable = no, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <!-- OPEN GRAPH(FACEBOOK, LINKEDIN) -->
    <meta property="og:type" content=""/>
    <meta property="og:description" content=""/>
    <meta property="og:title" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content=""/>

    <!-- twitter -->
    <meta property="twitter:card" content=""/>
    <meta property="twitter:title" content=""/>
    <meta property="twitter:description" content=""/>
    <meta property="twitter:image" content=""/>
    <meta property="twitter:url" content=""/>
    <meta property="twitter:creator" content=""/>

    <link rel="icon" href="/img/favicon-16x16.png"/>
    <link rel="apple-touch-icon" href="/img/favicon-16x16.png"/>
    <link rel="icon" type="image/png" sizes="16x16"  href="/img/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <!-- CSS RESET -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"/>
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/mainCss.css"/>
    <link rel="stylesheet" href="/css/login.css"/>

    <script src="https://kit.fontawesome.com/233840a552.js" crossorigin="anonymous"></script>
</head>

<body>

<section>

    <div id="carouselForMain" class="carousel slide carousel-fade" data-bs-ride="carousel">

        <div class="carousel-inner">
            <div class="carousel-item mainItem" th:each="article,num : ${popularArticles}"
                 th:classappend="${num.index}==0? active">
                <a th:href="@{/article/view(articleId=${article.getId()})}">
                    <img th:src="${article.getThumbnailUrl()}"
                         class="w-100 vh-100 cover" alt="...">
                    <div class="card-img-overlay text-white text-center row justify-content-center align-content-center text-shadow">
                        <h1 class="" th:text="${article.getTitle()}">첫번째 이미지</h1>
                    </div>
                </a>
            </div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#carouselForMain"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselForMain"
                data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>

    </div>


    <div class="mt-5 pt-2 popular-card-section">
        <div class="cards-container container p-0 ">
            <div class=" row g-0 row-cols-2 row-cols-md-3">
                <div class="col g-1 g-md-4" th:each="article,num : ${popularArticles}">
                    <a th:href="@{/article/view(articleId=${article.getId()})}">
                        <div class=" card ratio ratio-1x1 popular-card "
                             th:style="|background-image: url(${article.getThumbnailUrl()}); background-size: cover;|">
                            <div class="card-description">
                                <p th:text="${article.getTitle()}">타이틀</p>
                            </div>
                            <div class="card-des-overlay" th:text="${article.getContent()}">설명</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <hr class="py-1 mt-5" style="color: rgb(212, 200, 184);">

    <div class="recent-cards mt-5 ms-4 me-4">

        <div class="cards-container container p-0" id="infiniteScrollBox">
            <h1 class="text-center">최신 포스팅</h1>
            <hr>
            <div id="articlePage-0">
                <div class="card mb-3 recent-card wow fadeInUp" th:each="article,num :${recentArticles.getContent()}">
                    <a th:href="@{/article/view(articleId=${article.getId()})}">
                        <div class="row g-0">
                            <div class="col-3">
                                <div class="ratio ratio-1x1"
                                     th:style="|background-image: url(${article.getThumbnailUrl()}); background-size: cover;|"></div>
                            </div>
                            <div class="col-9 row row-cols-1 align-self-center">
                                <h3 class="card-title col mb-3 text-truncate" th:text="${article.getTitle()}">글 제목</h3>
                                <p class="col mb-0">
                                    <small class="text-muted"
                                           th:text="|작성일 : ${#temporals.format(article.getCreatedDate(), 'yyyy-MM-dd')}|"></small>
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <!--     infinityScroll     -->
            <div id="nextPagination"></div>

        </div>
    </div>
        <!--  js  -->
    <script src="/node_modules/wow.js/dist/wow.js"></script>
    <script src="/js/infinityScroll.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.0/moment.min.js"></script>
</section>

</body>
</html>